{% extends 'AppBundle::layout.html.twig' %}

{% block content -%}
    <h1>Редактировать оборудование</h1>

    {{ form_start(edit_form, {'attr': {'class': 'form-horizontal'}}) }}
    <div>{{ form_errors(edit_form) }}</div>
    <div class="form-group">
        {{ form_label(edit_form.code, null, {'label_attr':  {'class': 'col-xs-2'} }) }}
        <div class="col-xs-6">{{ form_widget(edit_form.code) }}
            {{ form_errors(edit_form.code) }}</div>
    </div>
    <div class="form-group">
        {{ form_label(edit_form.vendor, null, {'label_attr':  {'class': 'col-xs-2'} }) }}
        <div class="col-xs-6">{{ form_widget(edit_form.vendor) }}</div>
        <div class="col-xs-12">{{ form_errors(edit_form.vendor) }}</div>
    </div>
    <div class="form-group">
        {{ form_label(edit_form.model, null, {'label_attr':  {'class': 'col-xs-2'} }) }}
        <div class="col-xs-6">{{ form_widget(edit_form.model) }}</div>
        <div class="col-xs-12">{{ form_errors(edit_form.model) }}</div>
    </div>

    <div class="form-group">
        {{ form_label(edit_form.type, null, {'label_attr':  {'class': 'col-xs-2'} }) }}
        <div class="col-xs-6">{{ form_widget(edit_form.type) }}</div>
        <div class="col-xs-12">{{ form_errors(edit_form.type) }}</div>
    </div>
    <h3>Расположение</h3>

    <div class="form-group">

        <div id="destinations">
            {{ include('@App/Destinations/_form.html.twig', {'form': edit_form.destinations}) }}
        </div>
        <script>
            jQuery(document).ready(function ($) {
                $('#appbundle_equipment_destinations_type').change(function () {
                    if ($(this).is(':checked')) {
                        $('#destinations .address').hide();
                        $('#destinations .coords').show();
                    }
                    else {
                        $('#destinations .address').show();
                        $('#destinations .coords').hide();
                    }
                });
            });
        </script>
    </div>

    <div class="form-group">
        {{ form_label(edit_form.isActiveSw, null, {'label_attr':  {'class': 'col-xs-2'} }) }}
        <div class="col-sm-offset-2 col-xs-6">{{ form_widget(edit_form.isActiveSw) }}</div>
        <div class="col-xs-12">{{ form_errors(edit_form.isActiveSw) }}</div>
    </div>

    {{ form_row(edit_form.submit, { 'label': 'Обновить','attr': {'class': 'col-sm-offset-2 btn-default'} }) }}

    {{ form_rest(edit_form) }}
    {{ form_end(edit_form) }}


    <ul class="record_actions">
        <li>
            <a href="{{ path('equipment') }}">
                Назад к списку
            </a>
        </li>
    </ul>
    <div class="text-right">{{ form(delete_form) }}</div>
{% endblock %}
